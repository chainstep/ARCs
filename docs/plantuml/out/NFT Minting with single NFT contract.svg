<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1297px" preserveAspectRatio="none" style="width:629px;height:1297px;background:#FFFFFF;" version="1.1" viewBox="0 0 629 1297" width="629px" zoomAndPan="magnify"><defs><filter height="300%" id="f4lcku1o8kn3j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="323" x="149.5" y="29.4023">NFT Minting with single NFT contract</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="92.1758" y2="1237.4238"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="88" x2="88" y1="92.1758" y2="1237.4238"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="153" x2="153" y1="92.1758" y2="1237.4238"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="237" x2="237" y1="92.1758" y2="1237.4238"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="339" x2="339" y1="92.1758" y2="1237.4238"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="534" x2="534" y1="92.1758" y2="1237.4238"/><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="47" x="5" y="56.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="12" y="77.2227">Alice</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="47" x="5" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="12" y="1256.959">Alice</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="40" x="66" y="56.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="73" y="77.2227">Bob</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="40" x="66" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="73" y="1256.959">Bob</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="63" x="120" y="56.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="127" y="77.2227">Charlie</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="63" x="120" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="127" y="1256.959">Charlie</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="197" y="56.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="204" y="77.2227">Kollektor</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="76" x="197" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="204" y="1256.959">Kollektor</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="101" x="287" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="294" y="60.7344">NFT contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="307" y="77.2227">(stateful)</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="101" x="287" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="294" y="1256.959">NFT contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="307" y="1273.4473">(stateful)</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="161" x="452" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="459" y="60.7344">Royalty rules contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="502" y="77.2227">(stateful)</text><rect fill="#FEFECE" filter="url(#f4lcku1o8kn3j)" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="161" x="452" y="1236.4238"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="459" y="1256.959">Royalty rules contract</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="502" y="1273.4473">(stateful)</text><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="622" x="0" y="122.8311"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="122.8311" y2="122.8311"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="125.8311" y2="125.8311"/><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="78" x="272" y="112.1758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="60" x="278" y="128.7441">Mint NFT</text><polygon fill="#A80036" points="225,162.7969,235,166.7969,225,170.7969,229,166.7969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="30.5" x2="231" y1="166.7969" y2="166.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="37.5" y="162.0547">create NFT</text><polygon fill="#A80036" points="327.5,192.1074,337.5,196.1074,327.5,200.1074,331.5,196.1074" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="237" x2="333.5" y1="196.1074" y2="196.1074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="244" y="191.3652">mint NFT</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="225.418" y2="225.418"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="225.418" y2="238.418"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="238.418" y2="238.418"/><polygon fill="#A80036" points="350.5,234.418,340.5,238.418,350.5,242.418,346.5,238.418" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="346.5" y="220.6758">mint NFT</text><polygon fill="#A80036" points="522.5,263.7285,532.5,267.7285,522.5,271.7285,526.5,267.7285" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="528.5" y1="267.7285" y2="267.7285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="346.5" y="262.9863">issue royalty rules contract</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="312.3496" y2="312.3496"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="312.3496" y2="325.3496"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="325.3496" y2="325.3496"/><polygon fill="#A80036" points="350.5,321.3496,340.5,325.3496,350.5,329.3496,346.5,325.3496" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="346.5" y="292.2969">store NFT together with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="346.5" y="307.6074">royalty contract address</text><polygon fill="#A80036" points="41.5,350.6602,31.5,354.6602,41.5,358.6602,37.5,354.6602" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="338.5" y1="354.6602" y2="354.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="47.5" y="349.918">send NFT</text><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="622" x="0" y="383.3154"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="383.3154" y2="383.3154"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="386.3154" y2="386.3154"/><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="121" x="250.5" y="372.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="103" x="256.5" y="389.2285">First NFT Trade</text><polygon fill="#A80036" points="327.5,423.2813,337.5,427.2813,327.5,431.2813,331.5,427.2813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="30.5" x2="333.5" y1="427.2813" y2="427.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="37.5" y="422.5391">sell NFT</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="456.5918" y2="456.5918"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="456.5918" y2="469.5918"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="469.5918" y2="469.5918"/><polygon fill="#A80036" points="350.5,465.5918,340.5,469.5918,350.5,473.5918,346.5,469.5918" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="346.5" y="451.8496">store NFT state to SELLABLE</text><polygon fill="#A80036" points="327.5,494.9023,337.5,498.9023,327.5,502.9023,331.5,498.9023" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="333.5" y1="498.9023" y2="498.9023"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="95" y="494.1602">buy alice`s NFT</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="528.2129" y2="528.2129"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="528.2129" y2="541.2129"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="541.2129" y2="541.2129"/><polygon fill="#A80036" points="350.5,537.2129,340.5,541.2129,350.5,545.2129,346.5,541.2129" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="346.5" y="523.4707">check if NFT is sellable</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="570.5234" y2="570.5234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="570.5234" y2="583.5234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="583.5234" y2="583.5234"/><polygon fill="#A80036" points="350.5,579.5234,340.5,583.5234,350.5,587.5234,346.5,583.5234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="346.5" y="565.7813">get royalty contract address</text><polygon fill="#A80036" points="350.5,608.834,340.5,612.834,350.5,616.834,346.5,612.834" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="344.5" x2="533.5" y1="612.834" y2="612.834"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="356.5" y="608.0918">return royalty conditions</text><polygon fill="#A80036" points="327.5,638.1445,337.5,642.1445,327.5,646.1445,331.5,642.1445" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="30.5" x2="333.5" y1="642.1445" y2="642.1445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="37.5" y="637.4023">transfer NFT</text><polygon fill="#A80036" points="99,667.4551,89,671.4551,99,675.4551,95,671.4551" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="93" x2="338.5" y1="671.4551" y2="671.4551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="105" y="666.7129">transfer NFT</text><polygon fill="#A80036" points="41.5,696.7656,31.5,700.7656,41.5,704.7656,37.5,700.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="338.5" y1="700.7656" y2="700.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="47.5" y="696.0234">send funds</text><polygon fill="#A80036" points="248,726.0762,238,730.0762,248,734.0762,244,730.0762" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="242" x2="338.5" y1="730.0762" y2="730.0762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="254" y="725.334">send funds</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="759.3867" y2="759.3867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="759.3867" y2="772.3867"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="772.3867" y2="772.3867"/><polygon fill="#A80036" points="350.5,768.3867,340.5,772.3867,350.5,776.3867,346.5,772.3867" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="346.5" y="754.6445">update NFT state to LOCKED</text><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="622" x="0" y="801.042"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="801.042" y2="801.042"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="622" y1="804.042" y2="804.042"/><rect fill="#EEEEEE" filter="url(#f4lcku1o8kn3j)" height="23.3105" style="stroke:#000000;stroke-width:2.0;" width="162" x="230" y="790.3867"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144" x="236" y="806.9551">Secondary NFT Trade</text><polygon fill="#A80036" points="327.5,841.0078,337.5,845.0078,327.5,849.0078,331.5,845.0078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="333.5" y1="845.0078" y2="845.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="95" y="840.2656">sell NFT</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="874.3184" y2="874.3184"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="874.3184" y2="887.3184"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="887.3184" y2="887.3184"/><polygon fill="#A80036" points="350.5,883.3184,340.5,887.3184,350.5,891.3184,346.5,887.3184" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="346.5" y="869.5762">store NFT state to SELLABLE</text><polygon fill="#A80036" points="327.5,912.6289,337.5,916.6289,327.5,920.6289,331.5,916.6289" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="153.5" x2="333.5" y1="916.6289" y2="916.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="160.5" y="911.8867">buy bob`s NFT</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="945.9395" y2="945.9395"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="945.9395" y2="958.9395"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="958.9395" y2="958.9395"/><polygon fill="#A80036" points="350.5,954.9395,340.5,958.9395,350.5,962.9395,346.5,958.9395" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="346.5" y="941.1973">check if NFT is sellable</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="988.25" y2="988.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="988.25" y2="1001.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="1001.25" y2="1001.25"/><polygon fill="#A80036" points="350.5,997.25,340.5,1001.25,350.5,1005.25,346.5,1001.25" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="346.5" y="983.5078">get royalty contract address</text><polygon fill="#A80036" points="522.5,1026.5605,532.5,1030.5605,522.5,1034.5605,526.5,1030.5605" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="528.5" y1="1030.5605" y2="1030.5605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="346.5" y="1025.8184">get royalty conditions</text><polygon fill="#A80036" points="327.5,1055.8711,337.5,1059.8711,327.5,1063.8711,331.5,1059.8711" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="88" x2="333.5" y1="1059.8711" y2="1059.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="95" y="1055.1289">transfer NFT</text><polygon fill="#A80036" points="164.5,1085.1816,154.5,1089.1816,164.5,1093.1816,160.5,1089.1816" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="158.5" x2="338.5" y1="1089.1816" y2="1089.1816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="170.5" y="1084.4395">transfer NFT</text><polygon fill="#A80036" points="41.5,1114.4922,31.5,1118.4922,41.5,1122.4922,37.5,1118.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="338.5" y1="1118.4922" y2="1118.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="47.5" y="1113.75">send funds</text><polygon fill="#A80036" points="99,1143.8027,89,1147.8027,99,1151.8027,95,1147.8027" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="93" x2="338.5" y1="1147.8027" y2="1147.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="105" y="1143.0605">send funds</text><polygon fill="#A80036" points="248,1173.1133,238,1177.1133,248,1181.1133,244,1177.1133" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="242" x2="338.5" y1="1177.1133" y2="1177.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="254" y="1172.3711">send funds</text><line style="stroke:#A80036;stroke-width:1.0;" x1="339.5" x2="381.5" y1="1206.4238" y2="1206.4238"/><line style="stroke:#A80036;stroke-width:1.0;" x1="381.5" x2="381.5" y1="1206.4238" y2="1219.4238"/><line style="stroke:#A80036;stroke-width:1.0;" x1="340.5" x2="381.5" y1="1219.4238" y2="1219.4238"/><polygon fill="#A80036" points="350.5,1215.4238,340.5,1219.4238,350.5,1223.4238,346.5,1219.4238" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="346.5" y="1201.6816">update NFT state to LOCKED</text><!--MD5=[c09da8499f2d732ba2879de03c01557c]
@startuml

title "NFT Minting with single NFT contract"

participant "Alice" as ali
participant "Bob" as bob
participant "Charlie" as cha
participant "Kollektor" as kol
participant "NFT contract\n(stateful)" as nfc
participant "Royalty rules contract\n(stateful)" as roc


== Mint NFT ==

ali -> kol: create NFT
kol -> nfc: mint NFT
nfc -> nfc: mint NFT
nfc -> roc: issue royalty rules contract
nfc -> nfc: store NFT together with\nroyalty contract address
nfc -> ali: send NFT


== First NFT Trade ==

ali -> nfc: sell NFT
nfc -> nfc: store NFT state to SELLABLE
bob -> nfc: buy alice`s NFT
nfc -> nfc: check if NFT is sellable
nfc -> nfc: get royalty contract address
roc -> nfc: return royalty conditions
ali -> nfc: transfer NFT
nfc -> bob: transfer NFT
nfc -> ali: send funds
nfc -> kol: send funds
nfc -> nfc: update NFT state to LOCKED


== Secondary NFT Trade ==

bob -> nfc: sell NFT
nfc -> nfc: store NFT state to SELLABLE
cha -> nfc: buy bob`s NFT
nfc -> nfc: check if NFT is sellable
nfc -> nfc: get royalty contract address
nfc -> roc: get royalty conditions
bob -> nfc: transfer NFT
nfc -> cha: transfer NFT
nfc -> ali: send funds
nfc -> bob: send funds
nfc -> kol: send funds
nfc -> nfc: update NFT state to LOCKED


@enduml

PlantUML version 1.2021.7(Sun May 23 14:40:07 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: DE
--></g></svg>